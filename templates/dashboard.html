{% extends "base.html" %}
{% block page_title %}{{ page_title }}{% endblock %}

{% block header %}
    <!-- Keep Chart.js if you still want to use it -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.2/chart.min.js"
            integrity="sha512-tMabqarPtykgDtdtSqCL3uLVM0gS1ZkUAVhRFu1vSEFgvB73niFQWJuvviDyBGBH22Lcau4rHB5p2K2T0Xvr6Q=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock %}

{% block content %}
    <h3>Dashboard</h3>

    <!-- Old Chart.js iframe (basic bar chart) -->
    <iframe src="/plot_number_of_views" width="600" height="400" style="border: none;"></iframe>

    <!-- New Altair dashboard (only shown if passed from web_app.py) -->
    {% if dashboard_html %}
      <h4>Analytics Dashboard</h4>
      {{ dashboard_html | safe }}
    {% endif %}
{% endblock %}
